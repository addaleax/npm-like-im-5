<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Packages and Modules | npm-like-im-5</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.6.7">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-search/search.css">
        
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-fontsettings/website.css">
        
    
    

        
    
    
    <link rel="next" href="../intro/dependency-hell.html" />
    
    
    <link rel="prev" href="../intro/app-design.html" />
    

        
    </head>
    <body>
        
        
    <div class="book"
        data-level="1.3"
        data-chapter-title="Packages and Modules"
        data-filepath="intro/packages-and-modules.md"
        data-basepath=".."
        data-revision="Sun Jan 31 2016 19:12:10 GMT+0000 (UTC)"
        data-innerlanguage="">
    

<div class="book-summary">
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="intro/index.html">
            
                
                    <a href="../intro/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Introduction
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="intro/what-is-npm.html">
            
                
                    <a href="../intro/what-is-npm.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        What is npm?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="intro/app-design.html">
            
                
                    <a href="../intro/app-design.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Modularity and Application Design
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="1.3" data-path="intro/packages-and-modules.html">
            
                
                    <a href="../intro/packages-and-modules.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        Packages and Modules
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="intro/dependency-hell.html">
            
                
                    <a href="../intro/dependency-hell.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.4.</b>
                        
                        Package Managers and Dependency Hell
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="intro/history.html">
            
                
                    <a href="../intro/history.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.5.</b>
                        
                        The Node Module Loader and npm2
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="npm3/index.html">
            
                
                    <a href="../npm3/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Hello, npm!
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="npm3/dependency-resolution.html">
            
                
                    <a href="../npm3/dependency-resolution.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Dependency Resolution
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="npm3/duplication.html">
            
                
                    <a href="../npm3/duplication.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Duplication and Deduping
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="npm3/non-determinism.html">
            
                
                    <a href="../npm3/non-determinism.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Non-determinism
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="up-and-running/index.html">
            
                
                    <a href="../up-and-running/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Up and Running
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="up-and-running/installation.html">
            
                
                    <a href="../up-and-running/installation.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Installing Node.js and npm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="up-and-running/updating.html">
            
                
                    <a href="../up-and-running/updating.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Updating npm
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="up-and-running/exercise1.html">
            
                
                    <a href="../up-and-running/exercise1.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>3.3.</b>
                        
                        Exercise 1: Changing versions of npm
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="using-packages/index.html">
            
                
                    <a href="../using-packages/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Using Packages
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="using-packages/registry.html">
            
                
                    <a href="../using-packages/registry.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        The Registry
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="using-packages/installing.html">
            
                
                    <a href="../using-packages/installing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Installing Packages
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="using-packages/exercise2.html">
            
                
                    <a href="../using-packages/exercise2.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Exercise 2: Installing Packages Locally and Globally
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="using-packages/local-mgmt.html">
            
                
                    <a href="../using-packages/local-mgmt.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Local Package Management
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="using-packages/exercise3.html">
            
                
                    <a href="../using-packages/exercise3.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Exercise 3: Debugging Missing Packages
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="using-packages/packagejson.html">
            
                
                    <a href="../using-packages/packagejson.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Using a `package.json`
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="using-packages/exercise4.html">
            
                
                    <a href="../using-packages/exercise4.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Exercise 4: A Static Site, with npm
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="semver/index.html">
            
                
                    <a href="../semver/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Semantic Versioning (Semver)
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="semver/ranges.html">
            
                
                    <a href="../semver/ranges.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Version Ranges
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="semver/exercise5.html">
            
                
                    <a href="../semver/exercise5.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Exercise 5: Specifying Version Ranges in `package.json`
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="semver/majorminorpatch.html">
            
                
                    <a href="../semver/majorminorpatch.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        Major.Minor.Patch
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="semver/exercise6.html">
            
                
                    <a href="../semver/exercise6.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        Exercise 6: Release Manager Role Playing
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="publishing/index.html">
            
                
                    <a href="../publishing/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Publishing a Package
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="publishing/publishing.html">
            
                
                    <a href="../publishing/publishing.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Publishing Workflow
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="publishing/exercise7.html">
            
                
                    <a href="../publishing/exercise7.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Exercise 7: Our First Package!
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="publishing/teams-orgs.html">
            
                
                    <a href="../publishing/teams-orgs.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>6.3.</b>
                        
                        Private Packages, Teams, and Orgs
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="7" data-path="run-scripts/index.html">
            
                
                    <a href="../run-scripts/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.</b>
                        
                        Run Scripts
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="7.1" data-path="run-scripts/intro.html">
            
                
                    <a href="../run-scripts/intro.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.1.</b>
                        
                        What are run scripts?
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="run-scripts/start-and-test.html">
            
                
                    <a href="../run-scripts/start-and-test.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.2.</b>
                        
                        `start` and `test`
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="run-scripts/exercise8.html">
            
                
                    <a href="../run-scripts/exercise8.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.3.</b>
                        
                        Exercise 8: Writing a `start` script
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.4" data-path="run-scripts/custom.html">
            
                
                    <a href="../run-scripts/custom.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.4.</b>
                        
                        Custom Run Scripts
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.5" data-path="run-scripts/exercise9.html">
            
                
                    <a href="../run-scripts/exercise9.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.5.</b>
                        
                        Exercise 9: Writing a custom `build` script
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.6" data-path="run-scripts/lifecycle-events.html">
            
                
                    <a href="../run-scripts/lifecycle-events.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.6.</b>
                        
                        Lifecycle Events
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="7.7" data-path="run-scripts/exercise10.html">
            
                
                    <a href="../run-scripts/exercise10.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>7.7.</b>
                        
                        Exercise 10: Writing a `prepublish` script
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="8" data-path="conclusion/index.html">
            
                
                    <a href="../conclusion/index.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.</b>
                        
                        Conclusion
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="8.1" data-path="conclusion/summary.html">
            
                
                    <a href="../conclusion/summary.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.1.</b>
                        
                        Summary
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="conclusion/next-steps.html">
            
                
                    <a href="../conclusion/next-steps.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>8.2.</b>
                        
                        Next Steps
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >npm-like-im-5</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="packages-and-modules">Packages and Modules</h1>
<p>One of the key steps in becoming immersed in an ecosystem is learning
its vocabulary. Node.js and npm have very specific definitions of 
packages and modules, which are easy to mix up. We&apos;ll discuss those
definitions here, make them distinct, and explain why certain
default files are named the way they are.</p>
<h2 id="tldr">tl;dr</h2>
<ul>
<li>A <strong>package</strong> is a file or directory that is described by a <code>package.json</code>.
This can happen in a bunch of different ways! For more info, see 
<a href="#what-is-a-package">&quot;What is a <code>package</code>?</a>, below.</li>
<li>A <strong>module</strong> is any file or directory that can be loaded by Node.js&apos; 
<code>require()</code>. Again, there are several configurations that allow this to 
happen. For more info, see <a href="#what-is-a-module">&quot;What is a <code>module</code>?&quot;</a>, below.</li>
</ul>
<h2 id="what-is-a-package">What is a <code>package</code>?</h2>
<p>A package is any of:</p>
<ul>
<li>a) a folder containing a program described by a <code>package.json</code> file</li>
<li>b) a gzipped tarball containing (a)</li>
<li>c) a url that resolves to (b)</li>
<li>d) a <code>&lt;name&gt;@&lt;version&gt;</code> that is published on the registry with (c)</li>
<li>e) a <code>&lt;name&gt;@&lt;tag&gt;</code> that points to (d)</li>
<li>f) a <code>&lt;name&gt;</code> that has a <code>latest</code> tag satisfying (e)</li>
<li>g) a <code>git</code> url that, when cloned, results in (a).</li>
</ul>
<p>Noting all these <code>package</code> possibilies, it follows that even if you never
publish your package to the public registry, you can still get a lot of
benefits of using npm:</p>
<ul>
<li>if you just want to write a node program, and/or</li>
<li>if you also want to be able to easily install it elsewhere after packing
it up into a tarball</li>
</ul>
<p>Git urls can be of the form:</p>
<pre><code>git://github.com/user/project.git#commit-ish
git+ssh://user@hostname:project.git#commit-ish
git+http://user@hostname/project/blah.git#commit-ish
git+https://user@hostname/project/blah.git#commit-ish
</code></pre><p>The <code>commit-ish</code> can be any tag, sha, or branch which can be supplied as
an argument to <code>git checkout</code>.  The default is <code>master</code>.</p>
<h2 id="what-is-a-module">What is a <code>module</code>?</h2>
<p>A module is anything that can be loaded with <code>require()</code> in a Node.js
program.  The following are all examples of things that can be
loaded as modules:</p>
<ul>
<li>A folder with a <code>package.json</code> file containing a <code>main</code> field.</li>
<li>A folder with an <code>index.js</code> file in it.</li>
<li>A JavaScript file.</li>
</ul>
<h3 id="most-npm-packages-are-modules">Most npm packages are modules</h3>
<p>Generally, npm packages that are used in Node.js program are loaded
with <code>require</code>, making them modules. However, there&apos;s no requirement
that an npm package be a module!  </p>
<p>Some packages, e.g., <code>cli</code> packages only contain an executable
command-line interface, and don&apos;t provide a <code>main</code> field for use in
Node.js programs. These packages are <em>not</em> modules.</p>
<p>Almost all npm packages (at least, those that are Node programs)
<em>contain</em> many modules within them (because every file they load with
<code>require()</code> is a module).</p>
<p>In the context of a Node program, the <code>module</code> is also the thing that
was loaded <em>from</em> a file.  For example, in the following program:</p>
<pre><code>var req = require(&apos;request&apos;)
</code></pre><p>we might say that &quot;The variable <code>req</code> refers to the <code>request</code> module&quot;.</p>
<h2 id="file-and-directory-names-in-the-nodejs-and-npm-ecosystem">File and Directory Names in the Node.js and npm Ecosystem</h2>
<ul>
<li>So, why is it the <code>node_modules</code> folder, but <code>package.json</code> file?</li>
<li>Why not <code>node_packages</code> or <code>module.json</code>?</li>
</ul>
<p>The <code>package.json</code> file defines the package.  (See 
<a href="#what-is-a-packae">&quot;What is a <code>package</code>?&quot;</a>, above.)</p>
<p>The <code>node_modules</code> folder is the place Node.js looks for modules.
(See <a href="#what-is-a-module">&quot;What is a <code>module</code>?&quot;</a>, above.)</p>
<p>For example, if you create a file at <code>node_modules/foo.js</code> and then
had a program that did <code>var f = require(&apos;foo.js&apos;)</code>, it would load
the module.  However, <code>foo.js</code> is not a &quot;package&quot; in this case,
because it does not have a package.json.</p>
<p>Alternatively, if you create a package which does not have an
<code>index.js</code> or a <code>&quot;main&quot;</code> field in the <code>package.json</code> file, then it is
not a module.  Even if it&apos;s installed in <code>node_modules</code>, it can&apos;t be
an argument to <code>require()</code>.</p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../intro/app-design.html" class="navigation navigation-prev " aria-label="Previous page: Modularity and Application Design"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../intro/dependency-hell.html" class="navigation navigation-next " aria-label="Next page: Package Managers and Dependency Hell"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-search/lunr.min.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-search/search.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-sharing/buttons.js"></script>
    

    
    <script src="../gitbook/plugins/gitbook-plugin-fontsettings/buttons.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"highlight":{},"search":{"maxIndexSize":1000000},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
